<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
	<head>
		<title>TODO supply a title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
		<script>
			"use strict";
			var consonants = [B, C, D, F, G, H, J, K, L, M, N, P, Q, R, S, T, V, W, X, Y, Z, b, c, d, f, g, h, j, k, l, m, n, p, q, r, s, t, u, v, w, x, y, z];
			var alpha=[A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z];
			
			cognome = "";
			nome = "";
			dNascita;
			lNascita;
			outCF = "";
			sesso = true; //true=maschio false=femmina
			comune = "";

			function findConsCog() {
				found = "";
				count = 0;
				for (i = 0; i < cognome.length || count < 3; i++) {
					for (j = 0; j < consonants.length; j++) {
						if (cognome.charAt(i) === consonants[j]) {
							found.concat(cognome.charAt(i));
							count++;
							break;
						}
					}
				}
				return found;
			}
			function findConsNome() {
				found = "";
				count = 0;
				for (i = 0; i < nome.length || count < 4; i++) {
					for (j = 0; j < consonants.length; j++) {
						if (nome.charAt(i) === consonants[j]) {
							found.concat(cognome.charAt(i));
							count++;
							break;
						}
					}
				}
				ret = found.charAt(1);
				ret = ret.concat(found.charAt(3).concat(found.charAt(4)));
				return ret;
			}
			function findMonth() {
				found = "";

				switch (dNascita.getMonth()) {
					case 0:
						found.concat("A");
						break;
					case 1:
						found.concat("B");
						break;
					case 2:
						found.concat("C");
						break;
					case 3:
						found.concat("D");
						break;
					case 4:
						found.concat("E");
						break;
					case 5:
						found.concat("H");
						break;
					case 6:
						found.concat("L");
						break;
					case 7:
						found.concat("M");
						break;
					case 8:
						found.concat("P");
						break;
					case 9:
						found.concat("R");
						break;
					case 10:
						found.concat("S");
						break;
					case 11:
						found.concat("T");
						break;
				}
				return found;
			}
			function findCodiceComune() {
				codice = "";
				switch (comune) {
					case "Annone Veneto":
						codice.concat("A302");
						break;
					case "Campagna Lupia":
						codice.concat("B493");
						break;
					case "Campolongo Maggiore":
						codice.concat("B546");
						break;
					case "Camponogara":
						codice.concat("B554");
						break;
					case "Caorle":
						codice.concat("B642");
						break;
					case "Cavallino-Treporti":
						codice.concat("M308");
						break;
					case "Cavarzere":
						codice.concat("C383");
						break;
					case "Ceggia":
						codice.concat("C422");
						break;
					case "Chioggia":
						codice.concat("C638");
						break;
					case "Cinto Caomaggiore":
						codice.concat("C714");
						break;
					case "Cona":
						codice.concat("C938");
						break;
					case "Concordia Sagittaria":
						codice.concat("C950");
						break;
					case "Dolo":
						codice.concat("D325");
						break;
					case "Eraclea":
						codice.concat("D415");
						break;
					case "Fiesso d'Artico":
						codice.concat("D578");
						break;
					case "Fossalta di Piave":
						codice.concat("D740");
						break;
					case "Fossalta di Portogruaro":
						codice.concat("D741");
						break;
					case "Fossò":
						codice.concat("D748");
						break;
					case "Gruaro":
						codice.concat("E215");
						break;
					case "Jesolo":
						codice.concat("C388");
						break;
					case "Marcon":
						codice.concat("E936");
						break;
					case "Martellago":
						codice.concat("E98");
						break;
					case "Meolo":
						codice.concat("F130");
						break;
					case "Mira":
						codice.concat("F229");
						break;
					case "Mirano":
						codice.concat("F241");
						break;
					case "Musile di Piave":
						codice.concat("F826");
						break;
					case "Noale":
						codice.concat("F904");
						break;
					case "Noventa di Piave"");
						codice.concat("F963;
						break;
					case "Pianiga":
						codice.concat("G565");
						break;
					case "Portogruaro":
						codice.concat("G914");
						break;
					case "Pramaggiore":
						codice.concat("G981");
						break;
					case "Quarto d'Altino":
						codice.concat("H117");
						break;
					case "Salzano":
						codice.concat("H735");
						break;
					case "San Donà di Piave":
						codice.concat("H823");
						break;
					case "San Michele al Tagliamento":
						codice.concat("I040");
						break;
					case "Santa Maria di Sala":
						codice.concat("I242");
						break;
					case "Santo Stino di Livenza":
						codice.concat("I373");
						break;
					case "Scorzè":
						codice.concat("I551");
						break;
					case "Spinea":
						codice.concat("I908");
						break;
					case "Stra":
						codice.concat("I965");
						break;
					case "Teglio Veneto":
						codice.concat("L085");
						break;
					case "Torre di Mosto":
						codice.concat("L267");
						break;
					case "Venezia":
						codice.concat("L736");
						break;
					case "Vigonovo":
						codice.concat("L899");
						break;
				}
				return codice;
			}//errore senza senso
			function findCIN(){
				pd=true //true=dispari false=pari
				num=0;
				for(i=0;i<15;i++){
					if(pd){
						switch (outCF.charAt(i)){
							case A|0;
								num=num+1
								break;
							case B|1
								num=num+0;
								break;
							case C|2;
								num=num+5;
								break;
							case D|3;
								num=num+7;
								break;
							case E|4;
								num=num+9;
								break;
							case F|5;
								num=num+13;
								break;
							case G|6;
								num=num+15;
								break;
							case H|7;
								num=num+17;
								break;
							case I|8;
								num=num+19;
								break;
							case J|9;
								num=num+21;
								break;
							case K;
								num=num+2;
								break;
							case L;
								num=num+4;
								break;
							case M;
								num=num+18;
								break;
							case N;
								num=num+20;
								break;
							case O;
								num=num+11;
								break;
							case P;
								num=num+3;
								break;
							case Q;
								num=num+6;
								break;
							case R;
								num=num+8;
								break;
							case S;
								num=num+12;
								break;
							case T;
								num=num+14;
								break;
							case U;
								num=num+16;
								break;
							case V;
								num=num+10;
								break;
							case W;
								num=num+22;
								break;
							case X;
								num=num+25;
								break;
							case Y;
								num=num+24;
								break;
							case Z;
								num=num+23;
								break;
						}
					}else{
						switch (outCF.charAt(i)){
							case A|0;
								num=num+0;
								break;
							case B|1
								num=num+1;
								break;
							case C|2;
								num=num+2;
								break;
							case D|3;
								num=num+3;
								break;
							case E|4;
								num=num+4;
								break;
							case F|5;
								num=num+5;
								break;
							case G|6;
								num=num+6;
								break;
							case H|7;
								num=num+7;
								break;
							case I|8;
								num=num+8;
								break;
							case J|9;
								num=num+9;
								break;
							case K;
								num=num+10;
								break;
							case L;
								num=num+11;
								break;
							case M;
								num=num+12;
								break;
							case N;
								num=num+13;
								break;
							case O;
								num=num+14;
								break;
							case P;
								num=num+15;
								break;
							case Q;
								num=num+16;
								break;
							case R;
								num=num+17;
								break;
							case S;
								num=num+18;
								break;
							case T;
								num=num+19;
								break;
							case U;
								num=num+20;
								break;
							case V;
								num=num+21;
								break;
							case W;
								num=num+22;
								break;
							case X;
								num=num+23;
								break;
							case Y;
								num=num+24;
								break;
							case Z;
								num=num+25;
								break;
						}
					}
				}
				num=num/26;
				return alpha[num];
			}
			function main() {
				outCF = outCF.concat(findConsCog());
				outCF = outCf.concat(findConsNome());
				if (sesso == true)
					outCF = outCF.concat(dNascita.getDay().toString());
				else
					oufCF = outCF.concat((dNascita.getDay() + 40).toString());
				outCF = coutCF.concat(findMonth());
				outCF=outCF.concat(findCodiceComune());
				OUTcf=outCF.concat(findCIN());
			}


		</script>
	</body>
</html>
